# 畅游网研网络浏览监控小工具

## 运行平台

畅游的外网机WindowsXP系统

## v0.2版本更新说明

1. 鼠标左键单击获取当前网络流量，改为实时获取
2. 增加系统托盘图标鼠标右键快捷菜单
3. 系统托盘图标改为启动时就显示
3. 部分代码做了些重构
4. 修复了几个小bug

## 代码说明

其实我也是初学Python,代码写得不好，见笑了~

这个工具是用Python2.7写的，并使用了wxPython做的界面，win32gui做的托盘程序图标部分，最后用pyInstaller打包成了一个EXE文件，并用upx压缩了下（效果不明显）
适用于Windows，由于条件所限，也仅在Windows下测试过。

第一次使用，可以将上限值设置得小一点儿，如0， 当开始监控时，程序会自动切断网络（可能会有一个黑色的命令行窗口一闪而过），并在系统托盘图标处提示你，
然后在系统托盘图标上点击右键，打开程序界面，可以看到程序已经停止了监控，把上限设置大点儿（如180），然后再点击“重新连接”，片刻后网络便重新连接上了，
然后再点击一下，开始监控。

[http://cy4749.cyou-inc.com/thread-25-1-1.html](http://cy4749.cyou-inc.com/thread-25-1-1.html)

## 原理

公司的网络限制是200MB/h， 即每小时流量不能大于200MB，公司的网络流量查看页面地址是：
http://10.6.125.125/monitor/?sensor_id=1&interval=3600&limit=none&subnet=你的IP地址

这个程序便是取的这里的数值，比较官方和权威些，，呵呵 。。

程序会自动获取你的本机地址，然后根据设定（检测间隔时间、上限值），每隔一段时间获取上面页面的数值，并与上限值进行比较，
若超出，则发出警告，并自动切断网络。

这里建议将间隔时间调大些，一般60s或120s，因为我在测试中发现公司的这页面上的数据也是隔一段时间一更新的，大概一分钟左右。
平时一般不必开启这个工具，只有在下载较大文件的时候，这个小工具会确保你的网络流量不会超出。

## 致谢

*感谢松哥提的建议*
*感谢张蕊协助测试*
